<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Sussy</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FL9SPSHPRL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FL9SPSHPRL');
</script>

<body>
  <div class="title">
    <h1>PIPI UND KAKI</i></h1>
    <button onclick="clicked()"><img src="https://i.redd.it/nqez31wiski91.png" width = 200, height = 100></button>
    <p id="clicks">Phew. you haven't touched shrek :)</p>
    <button id = "autoclikk" onclick="getidle()">Activate donke</button>
    <button onclick="upgrade()"><img src="https://preview.redd.it/722us0bdxdm91.png?width=2160&format=png&auto=webp&s=06b3370a9232ae1778a5d0e6343f3e934d33fc78" width = 65, height = 50></button>
    <p id="upgradeprice">Upgrade price:1000</p>
    <p id="clickstrength">Click strength:1</p>
    <button onclick="buymouse()">Buy donke</button>
    <p id="idlemoney">Idle money: 0</p>
    <p id="idleprice">Donke price: 100</p>
    <button onclick="savedata()">Save</button>
    <button onclick="loaddata()">Load</button>
  </div>
  <script>
    let clicks = 0
    let clickstrength = 1
    let upgradeprice = 1000
    let idlemoney = 0
    let mouseprice = 100

    function updatedata() {
      document.getElementById("clicks").innerHTML = "YOU SUSSY HAVE TOUCHED SHREK " + Math.floor(clicks) + " TIMES!!";
      document.getElementById("upgradeprice").innerHTML = "Upgrade price:" + upgradeprice;
      document.getElementById("clickstrength").innerHTML = "Click strength:" + clickstrength;
      document.getElementById("idlemoney").innerHTML = "idlemoney:" + idlemoney;
      document.getElementById("idleprice").innerHTML = "donke price:" + mouseprice;
    }
    function clicked() {
      clicks = parseInt(clicks) + parseInt(clickstrength);
      document.title = Math.floor(clicks)
      updatedata()
    }

    function upgrade() {
      if (clicks > upgradeprice) {
        upgradeprice = parseInt(upgradeprice) * 2;
        clickstrength = parseInt(clickstrength) + 1;
        updatedata()
      }
    }

    function buymouse() {
      if (clicks > mouseprice) {
        mouseprice = Math.ceil(parseInt(mouseprice) * 1.4);
        idlemoney = parseInt(idlemoney) + 1;
        updatedata()
      }
    }

    function getidle() {
      document.getElementById("autoclikk").disabled = true;
      clicks = parseFloat(clicks) + (idlemoney / 10);
      document.title = clicks
      setTimeout("getidle()", 100)
      updatedata()
    }

    function savedata() {
      localStorage.setItem('clicks', clicks)
      localStorage.setItem('clickstrength', clickstrength)
      localStorage.setItem('idlemone', idlemoney)
      localStorage.setItem('upgradeprice', upgradeprice)
      localStorage.setItem('mouseprice', mouseprice)
      updatedata()
    }

    function loaddata() {
      clicks = localStorage.getItem('clicks')
      clickstrength = localStorage.getItem('clickstrength')
      idlemoney = localStorage.getItem('idlemone')
      upgradeprice = localStorage.getItem('upgradeprice')
      mouseprice = localStorage.getItem('mouseprice')
      if (parseInt(idlemoney) == 0) {
        localStorage.setItem('clicks', 0)
        clicks = localStorage.getItem('clicks')
      }
      updatedata()
    }
  </script>

</html>